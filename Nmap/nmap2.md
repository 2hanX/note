## 了解Nmap定时扫描指南（防火墙旁路） [^1]

`nmap -T5 -p21-25 192.168.1.104 `[^2]

`nmap -T4 -p21-25 192.168.1.104` [^3]

`nmap -T3 -p21-25 192.168.1.104`

### 使用计时模板规避基于时间的防火墙规则

##### Block Insane T5扫描

```bash
sudo iptables -I INPUT -p tcp -m state --state NEW -m recent --set
sudo iptables -I INPUT -p tcp -m state --state NEW -m recent --update --seconds 1 --hitcount 1 -j DROP
# 如果数据包计数超过1，此规则将阻止来自IP地址的TCP数据包。换句话说，只有第一个数据包将在1秒内从IP地址响应
```

##### **绕过Insane T5防火墙过滤器**

`nmap -T5 -p21-25 192.168.1.104 --max-retries 4` [^4]

---

[^1]: nmap 中的定时模板由`-T <0-5>`定义，其中==`-T0`为最慢，`-T5`为最快==。默认情况下，所有nmap扫描都在`-T3`计时模板上运行。时序模板主要用于优化和改善扫描的质量和性能，以获得所需的结果
[^2]: 快速发送数据包，并且**仅响应0.3秒**，发送的两个数据包之间的时间差最长为**5毫秒**。虽然扫描速度超快，但有时会牺牲精度。如果Nmap在15分钟内无法完成扫描，则会在主机上放弃。除此之外，`-T5` 应仅用于快速网络和高端系统，因为快速发送数据包会影响网络或系统的工作，并可能导致系统故障
[^3]: 此模板用于非常快速地发送数据包，并且响应**仅等待1.25秒**。发送的两个数据包之间的时间差最长为10毫秒。Nmap官方文档建议将`-T4`用于“合理的现代可靠网络”
[^4]: 使用`-max-retries`参数可以增加重传值，以便每次重试一次提供一个端口的准确状态